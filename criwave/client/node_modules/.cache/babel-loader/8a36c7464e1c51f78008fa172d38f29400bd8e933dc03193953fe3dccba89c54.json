{"ast":null,"code":"/**\r\n * Componente de barra de búsqueda reutilizable\r\n * \r\n * Emite eventos al escribir para filtrar elementos y proporciona\r\n * funcionalidad para limpiar la búsqueda\r\n * \r\n * @component SearchBar\r\n */\nimport MaterialIcon from './Icon.vue';\nimport { ICON_SEARCH, ICON_CLOSE, ICON_HISTORY } from '../../constants/icons';\nexport default {\n  name: 'SearchBar',\n  components: {\n    icon: MaterialIcon\n  },\n  props: {\n    /**\r\n     * Texto del placeholder\r\n     */\n    placeholder: {\n      type: String,\n      default: 'Buscar...'\n    },\n    /**\r\n     * Retraso de búsqueda en ms (para debounce)\r\n     */\n    debounce: {\n      type: Number,\n      default: 300\n    },\n    /**\r\n     * Indica si hay resultados para la búsqueda actual\r\n     */\n    hasResults: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data() {\n    return {\n      searchQuery: '',\n      debounceTimeout: null,\n      isFocused: false,\n      showSuggestions: false,\n      recentSearches: [],\n      selectedIndex: -1,\n      selectedSection: '',\n      // 'recent' o 'current'\n      // Iconos para usar en el template\n      icons: {\n        search: ICON_SEARCH,\n        close: ICON_CLOSE,\n        history: ICON_HISTORY\n      }\n    };\n  },\n  computed: {\n    /**\r\n     * Determina si se debe mostrar el mensaje de \"no se encontraron resultados\"\r\n     */\n    showNoResults() {\n      return this.searchQuery && !this.hasResults;\n    }\n  },\n  mounted() {\n    // Cargar búsquedas recientes del localStorage\n    this.loadRecentSearches();\n\n    // Detectar clics fuera del componente para cerrar sugerencias\n    document.addEventListener('click', this.handleClickOutside);\n  },\n  beforeUnmount() {\n    document.removeEventListener('click', this.handleClickOutside);\n  },\n  methods: {\n    /**\r\n     * Maneja el evento de entrada de búsqueda\r\n     * con debounce para evitar múltiples llamadas\r\n     */\n    onSearch() {\n      clearTimeout(this.debounceTimeout);\n      this.debounceTimeout = setTimeout(() => {\n        this.$emit('search', this.searchQuery);\n        this.selectedIndex = -1; // Resetear índice seleccionado\n      }, this.debounce);\n    },\n    /**\r\n     * Limpia la búsqueda actual\r\n     */\n    clearSearch() {\n      this.searchQuery = '';\n      this.$emit('search', '');\n      this.$refs.searchInput.focus();\n      this.selectedIndex = -1;\n    },\n    /**\r\n     * Establece el foco en el campo de búsqueda\r\n     */\n    focus() {\n      this.$refs.searchInput.focus();\n    },\n    /**\r\n     * Maneja el evento de focus\r\n     */\n    onFocus() {\n      this.isFocused = true;\n      this.showSuggestions = true;\n    },\n    /**\r\n     * Maneja el evento de blur\r\n     */\n    onBlur() {\n      this.isFocused = false;\n      // Usar setTimeout para permitir clic en sugerencias\n      setTimeout(() => {\n        this.showSuggestions = false;\n      }, 200);\n    },\n    /**\r\n     * Carga búsquedas recientes del localStorage\r\n     */\n    loadRecentSearches() {\n      try {\n        const searches = localStorage.getItem('recentSearches');\n        if (searches) {\n          this.recentSearches = JSON.parse(searches);\n          // Limitamos a 5 para que no ocupen demasiado espacio\n          this.recentSearches = this.recentSearches.slice(0, 5);\n        }\n      } catch (error) {\n        console.error('Error al cargar las búsquedas recientes:', error);\n        this.recentSearches = [];\n      }\n    },\n    /**\r\n     * Navega por las sugerencias con las teclas de flecha\r\n     */\n    navigateSuggestion(direction) {\n      if (!this.showSuggestions) return;\n\n      // Si hay búsquedas recientes pero no hay sugerencias actuales o viceversa\n      if (this.recentSearches.length > 0 && !this.$slots.suggestions?.()) {\n        this.navigateRecent(direction);\n        return;\n      }\n\n      // Si no estamos en ninguna sección específica, empezar por las sugerencias actuales si hay\n      if (this.selectedSection === '') {\n        if (this.$slots.suggestions?.()) {\n          this.selectedSection = 'current';\n          this.selectedIndex = direction > 0 ? 0 : this.$slots.suggestions().length - 1;\n          this.$emit('suggestion-highlighted', this.selectedIndex);\n        } else if (this.recentSearches.length > 0) {\n          this.selectedSection = 'recent';\n          this.selectedIndex = direction > 0 ? 0 : this.recentSearches.length - 1;\n        }\n        return;\n      }\n\n      // Si estamos en la sección de sugerencias actuales\n      if (this.selectedSection === 'current') {\n        const suggestionsCount = this.$slots.suggestions?.() ? this.$slots.suggestions().length : 0;\n        if (direction > 0) {\n          if (this.selectedIndex < suggestionsCount - 1) {\n            // Continuar navegando dentro de las sugerencias actuales\n            this.selectedIndex++;\n            this.$emit('suggestion-highlighted', this.selectedIndex);\n          } else if (this.recentSearches.length > 0) {\n            // Pasar a las búsquedas recientes\n            this.selectedSection = 'recent';\n            this.selectedIndex = 0;\n          }\n        } else {\n          if (this.selectedIndex > 0) {\n            // Continuar navegando dentro de las sugerencias actuales\n            this.selectedIndex--;\n            this.$emit('suggestion-highlighted', this.selectedIndex);\n          } else if (this.recentSearches.length > 0) {\n            // Pasar a las búsquedas recientes (última)\n            this.selectedSection = 'recent';\n            this.selectedIndex = this.recentSearches.length - 1;\n          }\n        }\n      }\n      // Si estamos en la sección de búsquedas recientes\n      else if (this.selectedSection === 'recent') {\n        this.navigateRecent(direction);\n      }\n    },\n    /**\r\n     * Navega por las búsquedas recientes\r\n     */\n    navigateRecent(direction) {\n      const maxIndex = this.recentSearches.length - 1;\n      if (direction > 0) {\n        // Navegar hacia abajo\n        if (this.selectedIndex < maxIndex) {\n          this.selectedIndex++;\n        } else if (this.$slots.suggestions?.()) {\n          // Volver a las sugerencias actuales (primera)\n          this.selectedSection = 'current';\n          this.selectedIndex = 0;\n          this.$emit('suggestion-highlighted', this.selectedIndex);\n        } else {\n          // Volver al primer elemento de búsquedas recientes\n          this.selectedIndex = 0;\n        }\n      } else {\n        // Navegar hacia arriba\n        if (this.selectedIndex > 0) {\n          this.selectedIndex--;\n        } else if (this.$slots.suggestions?.()) {\n          // Volver a las sugerencias actuales (última)\n          this.selectedSection = 'current';\n          this.selectedIndex = this.$slots.suggestions().length - 1;\n          this.$emit('suggestion-highlighted', this.selectedIndex);\n        } else {\n          // Volver al último elemento de búsquedas recientes\n          this.selectedIndex = maxIndex;\n        }\n      }\n    },\n    /**\r\n     * Establece el elemento seleccionado manualmente\r\n     */\n    setSelected(index, section) {\n      this.selectedIndex = index;\n      this.selectedSection = section;\n      if (section === 'current') {\n        this.$emit('suggestion-highlighted', index);\n      }\n    },\n    /**\r\n     * Selecciona la sugerencia actual\r\n     */\n    selectSuggestion() {\n      if (this.selectedSection === 'recent' && this.selectedIndex >= 0 && this.selectedIndex < this.recentSearches.length) {\n        this.applySuggestion(this.recentSearches[this.selectedIndex]);\n      } else if (this.selectedSection === 'current') {\n        this.$emit('suggestion-selected', this.selectedIndex);\n      }\n    },\n    /**\r\n     * Aplica una sugerencia seleccionada\r\n     */\n    applySuggestion(suggestion) {\n      this.searchQuery = suggestion;\n      this.$emit('search', suggestion);\n      this.showSuggestions = false;\n      this.selectedIndex = -1;\n    },\n    /**\r\n     * Maneja clics fuera del componente\r\n     */\n    handleClickOutside(event) {\n      if (this.$el && !this.$el.contains(event.target)) {\n        this.showSuggestions = false;\n      }\n    },\n    /**\r\n     * Limpia el historial de búsquedas recientes\r\n     */\n    clearSearchHistory() {\n      this.recentSearches = [];\n      try {\n        localStorage.removeItem('recentSearches');\n      } catch (error) {\n        console.error('Error al limpiar el historial de búsquedas:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["MaterialIcon","ICON_SEARCH","ICON_CLOSE","ICON_HISTORY","name","components","icon","props","placeholder","type","String","default","debounce","Number","hasResults","Boolean","data","searchQuery","debounceTimeout","isFocused","showSuggestions","recentSearches","selectedIndex","selectedSection","icons","search","close","history","computed","showNoResults","mounted","loadRecentSearches","document","addEventListener","handleClickOutside","beforeUnmount","removeEventListener","methods","onSearch","clearTimeout","setTimeout","$emit","clearSearch","$refs","searchInput","focus","onFocus","onBlur","searches","localStorage","getItem","JSON","parse","slice","error","console","navigateSuggestion","direction","length","$slots","suggestions","navigateRecent","suggestionsCount","maxIndex","setSelected","index","section","selectSuggestion","applySuggestion","suggestion","event","$el","contains","target","clearSearchHistory","removeItem"],"sources":["C:\\Users\\Pc\\Desktop\\Proyectos\\criwave\\client\\src\\components\\ui\\SearchBar.vue"],"sourcesContent":["<template>\r\n  <div class=\"search-bar\">\r\n    <div class=\"search-wrapper\" :class=\"{ 'is-focused': isFocused, 'has-results': hasResults }\">\r\n      <label for=\"searchInput\" class=\"sr-only\">Buscar en el sistema</label>\r\n      <input \r\n        type=\"text\" \r\n        id=\"searchInput\"\r\n        v-model=\"searchQuery\" \r\n        :placeholder=\"placeholder\" \r\n        class=\"search-input\"\r\n        @input=\"onSearch\"\r\n        @keyup.esc=\"clearSearch\"\r\n        @focus=\"onFocus\"\r\n        @blur=\"onBlur\"\r\n        @keydown.down.prevent=\"navigateSuggestion(1)\"\r\n        @keydown.up.prevent=\"navigateSuggestion(-1)\"\r\n        @keydown.enter=\"selectSuggestion\"\r\n        ref=\"searchInput\"\r\n        aria-label=\"Buscador\"\r\n        aria-autocomplete=\"list\"\r\n        :aria-controls=\"showSuggestions ? 'search-suggestions' : undefined\"\r\n        :aria-expanded=\"showSuggestions\"\r\n        :aria-activedescendant=\"selectedIndex >= 0 ? `suggestion-${selectedIndex}` : undefined\"\r\n      />\r\n      <icon name=\"search\" class=\"search-icon\" aria-hidden=\"true\" />\r\n      <button \r\n        v-if=\"searchQuery\" \r\n        type=\"button\" \r\n        class=\"clear-search\" \r\n        @click=\"clearSearch\"\r\n        aria-label=\"Limpiar búsqueda\"\r\n      >\r\n        <icon name=\"close\" />\r\n      </button>\r\n      <kbd v-else class=\"search-shortcut\" title=\"Atajo de teclado\" aria-hidden=\"true\">Ctrl+K</kbd>\r\n    </div>\r\n    \r\n    <!-- Sugerencias de búsqueda -->\r\n    <div \r\n      v-if=\"showSuggestions\" \r\n      class=\"search-suggestions\" \r\n      id=\"search-suggestions\" \r\n      role=\"listbox\"\r\n      aria-label=\"Sugerencias de búsqueda\"\r\n    >\r\n      <!-- Sección para sugerencias basadas en el texto actual -->\r\n      <div v-if=\"searchQuery && searchQuery.length >= 2\" class=\"current-suggestions\">\r\n        <div class=\"suggestions-header\">\r\n          <span>SUGERENCIAS</span>\r\n        </div>\r\n        <!-- Aquí se mostrarían las sugerencias basadas en el texto actual -->\r\n        <slot name=\"suggestions\"></slot>\r\n      </div>\r\n      \r\n      <!-- Sección para búsquedas recientes - siempre visible -->\r\n      <div v-if=\"recentSearches.length > 0\">\r\n        <div class=\"suggestions-header\" id=\"recent-searches-header\">\r\n          <span>BÚSQUEDAS RECIENTES</span>\r\n          <button \r\n            class=\"clear-history-btn\" \r\n            @mousedown.prevent=\"clearSearchHistory\" \r\n            title=\"Limpiar historial\"\r\n            aria-label=\"Limpiar historial de búsquedas\"\r\n          >\r\n            Limpiar\r\n          </button>\r\n        </div>\r\n        <div \r\n          v-for=\"(search, index) in recentSearches\" \r\n          :key=\"`recent-${index}`\"\r\n          class=\"suggestion-item\"\r\n          :class=\"{ 'selected': selectedIndex === index && selectedSection === 'recent' }\"\r\n          @mousedown.prevent=\"applySuggestion(search)\"\r\n          @mouseover=\"setSelected(index, 'recent')\"\r\n          :id=\"`suggestion-${index}`\"\r\n          role=\"option\"\r\n          :aria-selected=\"selectedIndex === index && selectedSection === 'recent'\"\r\n          :tabindex=\"selectedIndex === index && selectedSection === 'recent' ? 0 : -1\"\r\n        >\r\n          <icon name=\"history\" class=\"suggestion-icon\" aria-hidden=\"true\" />\r\n          <span class=\"suggestion-text\">{{ search }}</span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div \r\n        v-if=\"!searchQuery && !recentSearches.length\" \r\n        class=\"no-suggestions\"\r\n        role=\"status\"\r\n      >\r\n        No hay búsquedas recientes\r\n      </div>\r\n    </div>\r\n    \r\n    <div \r\n      v-if=\"showNoResults\" \r\n      class=\"no-results-message\"\r\n      role=\"status\"\r\n      aria-live=\"polite\"\r\n    >\r\n      No se encontraron resultados para \"<strong>{{ searchQuery }}</strong>\"\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * Componente de barra de búsqueda reutilizable\r\n * \r\n * Emite eventos al escribir para filtrar elementos y proporciona\r\n * funcionalidad para limpiar la búsqueda\r\n * \r\n * @component SearchBar\r\n */\r\nimport MaterialIcon from './Icon.vue';\r\nimport { ICON_SEARCH, ICON_CLOSE, ICON_HISTORY } from '../../constants/icons';\r\n\r\nexport default {\r\n  name: 'SearchBar',\r\n  \r\n  components: {\r\n    icon: MaterialIcon\r\n  },\r\n  \r\n  props: {\r\n    /**\r\n     * Texto del placeholder\r\n     */\r\n    placeholder: {\r\n      type: String,\r\n      default: 'Buscar...'\r\n    },\r\n    \r\n    /**\r\n     * Retraso de búsqueda en ms (para debounce)\r\n     */\r\n    debounce: {\r\n      type: Number,\r\n      default: 300\r\n    },\r\n    \r\n    /**\r\n     * Indica si hay resultados para la búsqueda actual\r\n     */\r\n    hasResults: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  \r\n  data() {\r\n    return {\r\n      searchQuery: '',\r\n      debounceTimeout: null,\r\n      isFocused: false,\r\n      showSuggestions: false,\r\n      recentSearches: [],\r\n      selectedIndex: -1,\r\n      selectedSection: '', // 'recent' o 'current'\r\n      // Iconos para usar en el template\r\n      icons: {\r\n        search: ICON_SEARCH,\r\n        close: ICON_CLOSE,\r\n        history: ICON_HISTORY\r\n      }\r\n    };\r\n  },\r\n  \r\n  computed: {\r\n    /**\r\n     * Determina si se debe mostrar el mensaje de \"no se encontraron resultados\"\r\n     */\r\n    showNoResults() {\r\n      return this.searchQuery && !this.hasResults;\r\n    }\r\n  },\r\n  \r\n  mounted() {\r\n    // Cargar búsquedas recientes del localStorage\r\n    this.loadRecentSearches();\r\n    \r\n    // Detectar clics fuera del componente para cerrar sugerencias\r\n    document.addEventListener('click', this.handleClickOutside);\r\n  },\r\n  \r\n  beforeUnmount() {\r\n    document.removeEventListener('click', this.handleClickOutside);\r\n  },\r\n  \r\n  methods: {\r\n    /**\r\n     * Maneja el evento de entrada de búsqueda\r\n     * con debounce para evitar múltiples llamadas\r\n     */\r\n    onSearch() {\r\n      clearTimeout(this.debounceTimeout);\r\n      this.debounceTimeout = setTimeout(() => {\r\n        this.$emit('search', this.searchQuery);\r\n        this.selectedIndex = -1; // Resetear índice seleccionado\r\n      }, this.debounce);\r\n    },\r\n    \r\n    /**\r\n     * Limpia la búsqueda actual\r\n     */\r\n    clearSearch() {\r\n      this.searchQuery = '';\r\n      this.$emit('search', '');\r\n      this.$refs.searchInput.focus();\r\n      this.selectedIndex = -1;\r\n    },\r\n    \r\n    /**\r\n     * Establece el foco en el campo de búsqueda\r\n     */\r\n    focus() {\r\n      this.$refs.searchInput.focus();\r\n    },\r\n    \r\n    /**\r\n     * Maneja el evento de focus\r\n     */\r\n    onFocus() {\r\n      this.isFocused = true;\r\n      this.showSuggestions = true;\r\n    },\r\n    \r\n    /**\r\n     * Maneja el evento de blur\r\n     */\r\n    onBlur() {\r\n      this.isFocused = false;\r\n      // Usar setTimeout para permitir clic en sugerencias\r\n      setTimeout(() => {\r\n        this.showSuggestions = false;\r\n      }, 200);\r\n    },\r\n    \r\n    /**\r\n     * Carga búsquedas recientes del localStorage\r\n     */\r\n    loadRecentSearches() {\r\n      try {\r\n        const searches = localStorage.getItem('recentSearches');\r\n        if (searches) {\r\n          this.recentSearches = JSON.parse(searches);\r\n          // Limitamos a 5 para que no ocupen demasiado espacio\r\n          this.recentSearches = this.recentSearches.slice(0, 5);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error al cargar las búsquedas recientes:', error);\r\n        this.recentSearches = [];\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * Navega por las sugerencias con las teclas de flecha\r\n     */\r\n    navigateSuggestion(direction) {\r\n      if (!this.showSuggestions) return;\r\n      \r\n      // Si hay búsquedas recientes pero no hay sugerencias actuales o viceversa\r\n      if (this.recentSearches.length > 0 && !this.$slots.suggestions?.()) {\r\n        this.navigateRecent(direction);\r\n        return;\r\n      }\r\n      \r\n      // Si no estamos en ninguna sección específica, empezar por las sugerencias actuales si hay\r\n      if (this.selectedSection === '') {\r\n        if (this.$slots.suggestions?.()) {\r\n          this.selectedSection = 'current';\r\n          this.selectedIndex = direction > 0 ? 0 : this.$slots.suggestions().length - 1;\r\n          this.$emit('suggestion-highlighted', this.selectedIndex);\r\n        } else if (this.recentSearches.length > 0) {\r\n          this.selectedSection = 'recent';\r\n          this.selectedIndex = direction > 0 ? 0 : this.recentSearches.length - 1;\r\n        }\r\n        return;\r\n      }\r\n      \r\n      // Si estamos en la sección de sugerencias actuales\r\n      if (this.selectedSection === 'current') {\r\n        const suggestionsCount = this.$slots.suggestions?.() ? this.$slots.suggestions().length : 0;\r\n        \r\n        if (direction > 0) {\r\n          if (this.selectedIndex < suggestionsCount - 1) {\r\n            // Continuar navegando dentro de las sugerencias actuales\r\n            this.selectedIndex++;\r\n            this.$emit('suggestion-highlighted', this.selectedIndex);\r\n          } else if (this.recentSearches.length > 0) {\r\n            // Pasar a las búsquedas recientes\r\n            this.selectedSection = 'recent';\r\n            this.selectedIndex = 0;\r\n          }\r\n        } else {\r\n          if (this.selectedIndex > 0) {\r\n            // Continuar navegando dentro de las sugerencias actuales\r\n            this.selectedIndex--;\r\n            this.$emit('suggestion-highlighted', this.selectedIndex);\r\n          } else if (this.recentSearches.length > 0) {\r\n            // Pasar a las búsquedas recientes (última)\r\n            this.selectedSection = 'recent';\r\n            this.selectedIndex = this.recentSearches.length - 1;\r\n          }\r\n        }\r\n      } \r\n      // Si estamos en la sección de búsquedas recientes\r\n      else if (this.selectedSection === 'recent') {\r\n        this.navigateRecent(direction);\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * Navega por las búsquedas recientes\r\n     */\r\n    navigateRecent(direction) {\r\n      const maxIndex = this.recentSearches.length - 1;\r\n      \r\n      if (direction > 0) {\r\n        // Navegar hacia abajo\r\n        if (this.selectedIndex < maxIndex) {\r\n          this.selectedIndex++;\r\n        } else if (this.$slots.suggestions?.()) {\r\n          // Volver a las sugerencias actuales (primera)\r\n          this.selectedSection = 'current';\r\n          this.selectedIndex = 0;\r\n          this.$emit('suggestion-highlighted', this.selectedIndex);\r\n        } else {\r\n          // Volver al primer elemento de búsquedas recientes\r\n          this.selectedIndex = 0;\r\n        }\r\n      } else {\r\n        // Navegar hacia arriba\r\n        if (this.selectedIndex > 0) {\r\n          this.selectedIndex--;\r\n        } else if (this.$slots.suggestions?.()) {\r\n          // Volver a las sugerencias actuales (última)\r\n          this.selectedSection = 'current';\r\n          this.selectedIndex = this.$slots.suggestions().length - 1;\r\n          this.$emit('suggestion-highlighted', this.selectedIndex);\r\n        } else {\r\n          // Volver al último elemento de búsquedas recientes\r\n          this.selectedIndex = maxIndex;\r\n        }\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * Establece el elemento seleccionado manualmente\r\n     */\r\n    setSelected(index, section) {\r\n      this.selectedIndex = index;\r\n      this.selectedSection = section;\r\n      \r\n      if (section === 'current') {\r\n        this.$emit('suggestion-highlighted', index);\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * Selecciona la sugerencia actual\r\n     */\r\n    selectSuggestion() {\r\n      if (this.selectedSection === 'recent' && \r\n          this.selectedIndex >= 0 && \r\n          this.selectedIndex < this.recentSearches.length) {\r\n        this.applySuggestion(this.recentSearches[this.selectedIndex]);\r\n      } else if (this.selectedSection === 'current') {\r\n        this.$emit('suggestion-selected', this.selectedIndex);\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * Aplica una sugerencia seleccionada\r\n     */\r\n    applySuggestion(suggestion) {\r\n      this.searchQuery = suggestion;\r\n      this.$emit('search', suggestion);\r\n      this.showSuggestions = false;\r\n      this.selectedIndex = -1;\r\n    },\r\n    \r\n    /**\r\n     * Maneja clics fuera del componente\r\n     */\r\n    handleClickOutside(event) {\r\n      if (this.$el && !this.$el.contains(event.target)) {\r\n        this.showSuggestions = false;\r\n      }\r\n    },\r\n    \r\n    /**\r\n     * Limpia el historial de búsquedas recientes\r\n     */\r\n    clearSearchHistory() {\r\n      this.recentSearches = [];\r\n      try {\r\n        localStorage.removeItem('recentSearches');\r\n      } catch (error) {\r\n        console.error('Error al limpiar el historial de búsquedas:', error);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Clase para elementos que solo deben ser visibles para lectores de pantalla */\r\n.sr-only {\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  margin: -1px;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  white-space: nowrap;\r\n  border-width: 0;\r\n}\r\n\r\n.search-bar {\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\n.search-wrapper {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.search-input {\r\n  width: 100%;\r\n  padding: 10px 14px 10px 34px;\r\n  border-radius: 8px;\r\n  border: 1px solid transparent;\r\n  background-color: var(--search-bg);\r\n  color: var(--search-text);\r\n  font-size: 0.95rem;\r\n  transition: all 0.2s ease;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.search-input::placeholder {\r\n  color: var(--search-placeholder);\r\n  transition: opacity 0.2s;\r\n}\r\n\r\n.is-focused .search-input::placeholder {\r\n  opacity: 0.7;\r\n}\r\n\r\n.search-input:focus {\r\n  outline: none;\r\n  background-color: var(--bg-primary);\r\n  border-color: var(--primary);\r\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.search-icon {\r\n  position: absolute;\r\n  left: 10px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  color: var(--text-secondary);\r\n  opacity: 0.7;\r\n  pointer-events: none;\r\n  transition: color 0.2s, opacity 0.2s;\r\n}\r\n\r\n.is-focused .search-icon {\r\n  color: var(--primary);\r\n  opacity: 0.8;\r\n}\r\n\r\n.clear-search {\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  cursor: pointer;\r\n  opacity: 0.7;\r\n  transition: opacity 0.2s;\r\n  background: none;\r\n  border: none;\r\n  color: var(--text-secondary);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 24px;\r\n  width: 24px;\r\n  border-radius: 50%;\r\n}\r\n\r\n.clear-search:hover {\r\n  opacity: 1;\r\n  background-color: rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.search-shortcut {\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  background-color: var(--bg-secondary);\r\n  color: var(--text-secondary);\r\n  padding: 2px 6px;\r\n  border-radius: 4px;\r\n  font-size: 0.7rem;\r\n  font-family: monospace;\r\n  opacity: 0.7;\r\n  border: 1px solid var(--border);\r\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\r\n  display: none; /* Oculto por defecto */\r\n}\r\n\r\n.is-focused .search-shortcut {\r\n  display: none;\r\n}\r\n\r\n/* Solo mostrar el atajo en pantallas grandes */\r\n@media (min-width: 992px) {\r\n  .search-shortcut {\r\n    display: inline-block;\r\n  }\r\n}\r\n\r\n.no-results-message {\r\n  margin-top: 10px;\r\n  padding: 8px 12px;\r\n  background-color: var(--bg-secondary);\r\n  color: var(--text-secondary);\r\n  border-radius: 6px;\r\n  font-size: 0.85rem;\r\n  animation: fadeIn 0.3s ease;\r\n}\r\n\r\n/* Estilos para sugerencias de búsqueda */\r\n.search-suggestions {\r\n  position: absolute;\r\n  top: calc(100% + 4px);\r\n  left: 0;\r\n  right: 0;\r\n  background-color: var(--bg-primary);\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\r\n  z-index: 100; /* Aumentamos el z-index para asegurar que esté por encima de otros elementos */\r\n  max-height: 350px; /* Aumentamos la altura máxima para poder mostrar más contenido */\r\n  overflow-y: auto;\r\n  border: 1px solid var(--border);\r\n  animation: fadeIn 0.2s ease;\r\n  padding-bottom: 5px;\r\n}\r\n\r\n/* Contenedor para sugerencias actuales */\r\n.current-suggestions {\r\n  margin-bottom: 10px;\r\n  max-height: 200px; /* Limitar la altura para dejar espacio a las búsquedas recientes */\r\n  overflow-y: auto; /* Permitir scroll dentro de las sugerencias actuales */\r\n}\r\n\r\n.suggestions-header {\r\n  position: sticky;\r\n  top: 0;\r\n  padding: 8px 12px;\r\n  font-size: 0.75rem;\r\n  color: var(--text-secondary);\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.5px;\r\n  background-color: var(--bg-secondary);\r\n  border-bottom: 1px solid var(--border);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  z-index: 2; /* Asegurar que el encabezado esté sobre los elementos al hacer scroll */\r\n}\r\n\r\n.clear-history-btn {\r\n  background: none;\r\n  border: none;\r\n  color: var(--text-secondary);\r\n  font-size: 0.75rem;\r\n  cursor: pointer;\r\n  padding: 2px 6px;\r\n  border-radius: 4px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.clear-history-btn:hover {\r\n  background-color: var(--bg-hover);\r\n  color: var(--primary);\r\n}\r\n\r\n.suggestion-item {\r\n  padding: 8px 12px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  transition: background-color 0.15s;\r\n}\r\n\r\n.suggestion-item:hover,\r\n.suggestion-item.selected {\r\n  background-color: var(--bg-hover);\r\n}\r\n\r\n.suggestion-icon {\r\n  margin-right: 8px;\r\n  color: var(--text-secondary);\r\n  opacity: 0.7;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.suggestion-item:hover .suggestion-icon,\r\n.suggestion-item.selected .suggestion-icon {\r\n  opacity: 0.9;\r\n}\r\n\r\n.suggestion-text {\r\n  color: var(--text-primary);\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.no-suggestions {\r\n  padding: 10px 12px;\r\n  color: var(--text-secondary);\r\n  font-size: 0.85rem;\r\n  text-align: center;\r\n  font-style: italic;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from { opacity: 0; transform: translateY(-5px); }\r\n  to { opacity: 1; transform: translateY(0); }\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}